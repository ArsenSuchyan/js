<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Задача 9</title>
  </head>
  <body>
    <h1>Задача 9</h1>
    <p>
      Морський бій. Користувач вводить кількість клітинок одновимірного масиву
      та кількість одиночних кораблів. Комп’ютер довільно розміщує ці одиночні
      кораблі у масиві по один у клітинці (якщо у клітинці 0, то клітинка пуста,
      якщо 1 – то це означає, що там є корабель. Користувач вводить номер
      клітинки, куди стріляє. Гра продовжується до тих пір, поки не будуть
      потоплені усі кораблі.
    </p>
    <script>
      let numberOfCells = parseInt(prompt("Введіть кількість клітин поля"));
      let numberOfShips = parseInt(
        prompt("Введіть кількість кораблів на полі")
      );

      function makeField(numberOfCells, numberOfShips) {
        let field = [];
        let numberOfRemainingCeil = numberOfCells;
        for (cell = 0; cell < numberOfCells; cell++) {
          let shipPresenceInCeil;
          if (numberOfShips === numberOfRemainingCeil) {
            shipPresenceInCeil = 1;
            numberOfShips--;
          } else if (numberOfShips > 0) {
            shipPresenceInCeil = Math.floor(Math.random() * 2);
            if (shipPresenceInCeil === 1) numberOfShips--;
          } else shipPresenceInCeil = 0;

          field.push(shipPresenceInCeil);
          numberOfRemainingCeil--;
        }
        return field;
      }

      let field = makeField(numberOfCells, numberOfShips);

      document.write(field);

      do {
        let usersShot = parseInt(prompt("Оберіть клітину для удару"));
        if (field[usersShot - 1] === 1) {
          numberOfShips--;
          alert(`Потопив! Залишилося ще ${numberOfShips} кораблів`);
        } else alert(`Не влучив! Спробуй ще раз`);
      } while (numberOfShips !== 0);
      document.write("<br> Перемога! Всі кораблі потоплено!");
    </script>
  </body>
</html>
